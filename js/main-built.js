/*! asEvented v0.3.1 github.com/mkuklis/asEvented | Dual licensed under the MIT or GPL Version 2 licenses. */
/*! 
* FitVids 1.0
*
* Copyright 2011, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
* Date: Thu Sept 01 18:00:00 2011 -0500
*/
(function(a){String.prototype.trim===a&&(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Array.prototype.reduce===a&&(Array.prototype.reduce=function(b){if(this===void 0||this===null)throw new TypeError;var c=Object(this),d=c.length>>>0,e=0,f;if(typeof b!="function")throw new TypeError;if(d==0&&arguments.length==1)throw new TypeError;if(arguments.length>=2)f=arguments[1];else do{if(e in c){f=c[e++];break}if(++e>=d)throw new TypeError}while(!0);while(e<d)e in c&&(f=b.call(a,f,c[e],e,c)),e++;return f})})();var Zepto=function(){function a(a){return K.call(a)=="[object Function]"}function b(a){return a instanceof Object}function c(b){var c,d;if(K.call(b)!=="[object Object]")return!1;d=a(b.constructor)&&b.constructor.prototype;if(!d||!hasOwnProperty.call(d,"isPrototypeOf"))return!1;for(c in b);return c===p||hasOwnProperty.call(b,c)}function d(a){return a instanceof Array}function e(a){return typeof a.length=="number"}function f(a){return a.filter(function(a){return a!==p&&a!==null})}function g(a){return a.length>0?[].concat.apply([],a):a}function h(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function i(a){return a in x?x[a]:x[a]=new RegExp("(^|\\s)"+a+"(\\s|$)")}function j(a,b){return typeof b=="number"&&!z[h(a)]?b+"px":b}function k(a){var b,c;return w[a]||(b=v.createElement(a),v.body.appendChild(b),c=y(b,"").getPropertyValue("display"),b.parentNode.removeChild(b),c=="none"&&(c="block"),w[a]=c),w[a]}function l(a,b){return b===p?r(a):r(a).filter(b)}function m(b,c,d,e){return a(c)?c.call(b,d,e):c}function n(a,b,c){var d=a%2?b:b.parentNode;d?d.insertBefore(c,a?a==1?d.firstChild:a==2?b:null:b.nextSibling):r(c).remove()}function o(a,b){b(a);for(var c in a.childNodes)o(a.childNodes[c],b)}var p,q,r,s,t=[],u=t.slice,v=window.document,w={},x={},y=v.defaultView.getComputedStyle,z={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},A=/^\s*<(\w+|!)[^>]*>/,B=[1,3,8,9,11],C=["after","prepend","before","append"],D=v.createElement("table"),E=v.createElement("tr"),F={tr:v.createElement("tbody"),tbody:D,thead:D,tfoot:D,td:E,th:E,"*":v.createElement("div")},G=/complete|loaded|interactive/,H=/^\.([\w-]+)$/,I=/^#([\w-]+)$/,J=/^[\w-]+$/,K={}.toString,L={},M,N,O=v.createElement("div");return L.matches=function(a,b){if(!a||a.nodeType!==1)return!1;var c=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(c)return c.call(a,b);var d,e=a.parentNode,f=!e;return f&&(e=O).appendChild(a),d=~L.qsa(e,b).indexOf(a),f&&O.removeChild(a),d},M=function(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})},N=function(a){return a.filter(function(b,c){return a.indexOf(b)==c})},L.fragment=function(a,b){b===p&&(b=A.test(a)&&RegExp.$1),b in F||(b="*");var c=F[b];return c.innerHTML=""+a,r.each(u.call(c.childNodes),function(){c.removeChild(this)})},L.Z=function(a,b){return a=a||[],a.__proto__=arguments.callee.prototype,a.selector=b||"",a},L.isZ=function(a){return a instanceof L.Z},L.init=function(b,e){if(!b)return L.Z();if(a(b))return r(v).ready(b);if(L.isZ(b))return b;var g;if(d(b))g=f(b);else if(c(b))g=[r.extend({},b)],b=null;else if(B.indexOf(b.nodeType)>=0||b===window)g=[b],b=null;else if(A.test(b))g=L.fragment(b.trim(),RegExp.$1),b=null;else{if(e!==p)return r(e).find(b);g=L.qsa(v,b)}return L.Z(g,b)},r=function(a,b){return L.init(a,b)},r.extend=function(a){return u.call(arguments,1).forEach(function(b){for(q in b)b[q]!==p&&(a[q]=b[q])}),a},L.qsa=function(a,b){var c;return a===v&&I.test(b)?(c=a.getElementById(RegExp.$1))?[c]:t:a.nodeType!==1&&a.nodeType!==9?t:u.call(H.test(b)?a.getElementsByClassName(RegExp.$1):J.test(b)?a.getElementsByTagName(b):a.querySelectorAll(b))},r.isFunction=a,r.isObject=b,r.isArray=d,r.isPlainObject=c,r.inArray=function(a,b,c){return t.indexOf.call(b,a,c)},r.trim=function(a){return a.trim()},r.uuid=0,r.map=function(a,b){var c,d=[],f,h;if(e(a))for(f=0;f<a.length;f++)c=b(a[f],f),c!=null&&d.push(c);else for(h in a)c=b(a[h],h),c!=null&&d.push(c);return g(d)},r.each=function(a,b){var c,d;if(e(a)){for(c=0;c<a.length;c++)if(b.call(a[c],c,a[c])===!1)return a}else for(d in a)if(b.call(a[d],d,a[d])===!1)return a;return a},r.fn={forEach:t.forEach,reduce:t.reduce,push:t.push,indexOf:t.indexOf,concat:t.concat,map:function(a){return r.map(this,function(b,c){return a.call(b,c,b)})},slice:function(){return r(u.apply(this,arguments))},ready:function(a){return G.test(v.readyState)?a(r):v.addEventListener("DOMContentLoaded",function(){a(r)},!1),this},get:function(a){return a===p?u.call(this):this[a]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){this.parentNode!=null&&this.parentNode.removeChild(this)})},each:function(a){return this.forEach(function(b,c){a.call(b,c,b)}),this},filter:function(a){return r([].filter.call(this,function(b){return L.matches(b,a)}))},add:function(a,b){return r(N(this.concat(r(a,b))))},is:function(a){return this.length>0&&L.matches(this[0],a)},not:function(b){var c=[];if(a(b)&&b.call!==p)this.each(function(a){b.call(this,a)||c.push(this)});else{var d=typeof b=="string"?this.filter(b):e(b)&&a(b.item)?u.call(b):r(b);this.forEach(function(a){d.indexOf(a)<0&&c.push(a)})}return r(c)},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!b(a)?a:r(a)},last:function(){var a=this[this.length-1];return a&&!b(a)?a:r(a)},find:function(a){var b;return this.length==1?b=L.qsa(this[0],a):b=this.map(function(){return L.qsa(this,a)}),r(b)},closest:function(a,b){var c=this[0];while(c&&!L.matches(c,a))c=c!==b&&c!==v&&c.parentNode;return r(c)},parents:function(a){var b=[],c=this;while(c.length>0)c=r.map(c,function(a){if((a=a.parentNode)&&a!==v&&b.indexOf(a)<0)return b.push(a),a});return l(b,a)},parent:function(a){return l(N(this.pluck("parentNode")),a)},children:function(a){return l(this.map(function(){return u.call(this.children)}),a)},siblings:function(a){return l(this.map(function(a,b){return u.call(b.parentNode.children).filter(function(a){return a!==b})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return this.map(function(){return this[a]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display=null),y(this,"").getPropertyValue("display")=="none"&&(this.style.display=k(this.nodeName))})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){return this.each(function(){r(this).wrapAll(r(a)[0].cloneNode(!1))})},wrapAll:function(a){return this[0]&&(r(this[0]).before(a=r(a)),a.append(this)),this},unwrap:function(){return this.parent().each(function(){r(this).replaceWith(r(this).children())}),this},clone:function(){return r(this.map(function(){return this.cloneNode(!0)}))},hide:function(){return this.css("display","none")},toggle:function(a){return(a===p?this.css("display")=="none":a)?this.show():this.hide()},prev:function(){return r(this.pluck("previousElementSibling"))},next:function(){return r(this.pluck("nextElementSibling"))},html:function(a){return a===p?this.length>0?this[0].innerHTML:null:this.each(function(b){var c=this.innerHTML;r(this).empty().append(m(this,a,b,c))})},text:function(a){return a===p?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=a})},attr:function(a,c){var d;return typeof a=="string"&&c===p?this.length==0||this[0].nodeType!==1?p:a=="value"&&this[0].nodeName=="INPUT"?this.val():!(d=this[0].getAttribute(a))&&a in this[0]?this[0][a]:d:this.each(function(d){if(this.nodeType!==1)return;if(b(a))for(q in a)this.setAttribute(q,a[q]);else this.setAttribute(a,m(this,c,d,this.getAttribute(a)))})},removeAttr:function(a){return this.each(function(){this.nodeType===1&&this.removeAttribute(a)})},prop:function(a,b){return b===p?this[0]?this[0][a]:p:this.each(function(c){this[a]=m(this,b,c,this[a])})},data:function(a,b){var c=this.attr("data-"+h(a),b);return c!==null?c:p},val:function(a){return a===p?this.length>0?this[0].value:p:this.each(function(b){this.value=m(this,a,b,this.value)})},offset:function(){if(this.length==0)return null;var a=this[0].getBoundingClientRect();return{left:a.left+window.pageXOffset,top:a.top+window.pageYOffset,width:a.width,height:a.height}},css:function(a,b){if(b===p&&typeof a=="string")return this.length==0?p:this[0].style[M(a)]||y(this[0],"").getPropertyValue(a);var c="";for(q in a)typeof a[q]=="string"&&a[q]==""?this.each(function(){this.style.removeProperty(h(q))}):c+=h(q)+":"+j(q,a[q])+";";return typeof a=="string"&&(b==""?this.each(function(){this.style.removeProperty(h(a))}):c=h(a)+":"+j(a,b)),this.each(function(){this.style.cssText+=";"+c})},index:function(a){return a?this.indexOf(r(a)[0]):this.parent().children().indexOf(this[0])},hasClass:function(a){return this.length<1?!1:i(a).test(this[0].className)},addClass:function(a){return this.each(function(b){s=[];var c=this.className,d=m(this,a,b,c);d.split(/\s+/g).forEach(function(a){r(this).hasClass(a)||s.push(a)},this),s.length&&(this.className+=(c?" ":"")+s.join(" "))})},removeClass:function(a){return this.each(function(b){if(a===p)return this.className="";s=this.className,m(this,a,b,s).split(/\s+/g).forEach(function(a){s=s.replace(i(a)," ")}),this.className=s.trim()})},toggleClass:function(a,b){return this.each(function(c){var d=m(this,a,c,this.className);(b===p?!r(this).hasClass(d):b)?r(this).addClass(d):r(this).removeClass(d)})}},["width","height"].forEach(function(a){r.fn[a]=function(b){var c,d=a.replace(/./,function(a){return a[0].toUpperCase()});return b===p?this[0]==window?window["inner"+d]:this[0]==v?v.documentElement["offset"+d]:(c=this.offset())&&c[a]:this.each(function(c){var d=r(this);d.css(a,m(this,b,c,d[a]()))})}}),C.forEach(function(a,c){r.fn[a]=function(){var a=r.map(arguments,function(a){return b(a)?a:L.fragment(a)});if(a.length<1)return this;var d=this.length,e=d>1,f=c<2;return this.each(function(b,g){for(var h=0;h<a.length;h++){var i=a[f?a.length-h-1:h];o(i,function(a){a.nodeName!=null&&a.nodeName.toUpperCase()==="SCRIPT"&&(!a.type||a.type==="text/javascript")&&window.eval.call(window,a.innerHTML)}),e&&b<d-1&&(i=i.cloneNode(!0)),n(c,g,i)}})},r.fn[c%2?a+"To":"insert"+(c?"Before":"After")]=function(b){return r(b)[a](this),this}}),L.Z.prototype=r.fn,L.camelize=M,L.uniq=N,r.zepto=L,r}();window.Zepto=Zepto,"$"in window||(window.$=Zepto),function(a){function b(a){return a._zid||(a._zid=m++)}function c(a,c,f,g){c=d(c);if(c.ns)var h=e(c.ns);return(l[b(a)]||[]).filter(function(a){return a&&(!c.e||a.e==c.e)&&(!c.ns||h.test(a.ns))&&(!f||b(a.fn)===b(f))&&(!g||a.sel==g)})}function d(a){var b=(""+a).split(".");return{e:b[0],ns:b.slice(1).sort().join(" ")}}function e(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function f(b,c,d){a.isObject(b)?a.each(b,d):b.split(/\s/).forEach(function(a){d(a,c)})}function g(c,e,g,h,i,j){j=!!j;var k=b(c),m=l[k]||(l[k]=[]);f(e,g,function(b,e){var f=i&&i(e,b),g=f||e,k=function(a){var b=g.apply(c,[a].concat(a.data));return b===!1&&a.preventDefault(),b},l=a.extend(d(b),{fn:e,proxy:k,sel:h,del:f,i:m.length});m.push(l),c.addEventListener(l.e,k,j)})}function h(a,d,e,g){var h=b(a);f(d||"",e,function(b,d){c(a,b,d,g).forEach(function(b){delete l[h][b.i],a.removeEventListener(b.e,b.proxy,!1)})})}function i(b){var c=a.extend({originalEvent:b},b);return a.each(q,function(a,d){c[a]=function(){return this[d]=o,b[a].apply(b,arguments)},c[d]=p}),c}function j(a){if(!("defaultPrevented"in a)){a.defaultPrevented=!1;var b=a.preventDefault;a.preventDefault=function(){this.defaultPrevented=!0,b.call(this)}}}var k=a.zepto.qsa,l={},m=1,n={};n.click=n.mousedown=n.mouseup=n.mousemove="MouseEvents",a.event={add:g,remove:h},a.proxy=function(c,d){if(a.isFunction(c)){var e=function(){return c.apply(d,arguments)};return e._zid=b(c),e}if(typeof d=="string")return a.proxy(c[d],c);throw new TypeError("expected function")},a.fn.bind=function(a,b){return this.each(function(){g(this,a,b)})},a.fn.unbind=function(a,b){return this.each(function(){h(this,a,b)})},a.fn.one=function(a,b){return this.each(function(c,d){g(this,a,b,null,function(a,b){return function(){var c=a.apply(d,arguments);return h(d,b,a),c}})})};var o=function(){return!0},p=function(){return!1},q={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};a.fn.delegate=function(b,c,d){var e=!1;if(c=="blur"||c=="focus")a.iswebkit?c=c=="blur"?"focusout":c=="focus"?"focusin":c:e=!0;return this.each(function(f,h){g(h,c,d,b,function(c){return function(d){var e,f=a(d.target).closest(b,h).get(0);if(f)return e=a.extend(i(d),{currentTarget:f,liveFired:h}),c.apply(f,[e].concat([].slice.call(arguments,1)))}},e)})},a.fn.undelegate=function(a,b,c){return this.each(function(){h(this,b,c,a)})},a.fn.live=function(b,c){return a(document.body).delegate(this.selector,b,c),this},a.fn.die=function(b,c){return a(document.body).undelegate(this.selector,b,c),this},a.fn.on=function(b,c,d){return c==undefined||a.isFunction(c)?this.bind(b,c):this.delegate(c,b,d)},a.fn.off=function(b,c,d){return c==undefined||a.isFunction(c)?this.unbind(b,c):this.undelegate(c,b,d)},a.fn.trigger=function(b,c){return typeof b=="string"&&(b=a.Event(b)),j(b),b.data=c,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(b)})},a.fn.triggerHandler=function(b,d){var e,f;return this.each(function(g,h){e=i(typeof b=="string"?a.Event(b):b),e.data=d,e.target=h,a.each(c(h,b.type||b),function(a,b){f=b.proxy(e);if(e.isImmediatePropagationStopped())return!1})}),f},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout change select keydown keypress keyup error".split(" ").forEach(function(b){a.fn[b]=function(a){return this.bind(b,a)}}),["focus","blur"].forEach(function(b){a.fn[b]=function(a){if(a)this.bind(b,a);else if(this.length)try{this.get(0)[b]()}catch(c){}return this}}),a.Event=function(a,b){var c=document.createEvent(n[a]||"Events"),d=!0;if(b)for(var e in b)e=="bubbles"?d=!!b[e]:c[e]=b[e];return c.initEvent(a,d,!0,null,null,null,null,null,null,null,null,null,null,null,null),c}}(Zepto),function(a){function b(a){var b=this.os={},c=this.browser={},d=a.match(/WebKit\/([\d.]+)/),e=a.match(/(Android)\s+([\d.]+)/),f=a.match(/(iPad).*OS\s([\d_]+)/),g=!f&&a.match(/(iPhone\sOS)\s([\d_]+)/),h=a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),i=h&&a.match(/TouchPad/),j=a.match(/Kindle\/([\d.]+)/),k=a.match(/Silk\/([\d._]+)/),l=a.match(/(BlackBerry).*Version\/([\d.]+)/);if(c.webkit=!!d)c.version=d[1];e&&(b.android=!0,b.version=e[2]),g&&(b.ios=b.iphone=!0,b.version=g[2].replace(/_/g,".")),f&&(b.ios=b.ipad=!0,b.version=f[2].replace(/_/g,".")),h&&(b.webos=!0,b.version=h[2]),i&&(b.touchpad=!0),l&&(b.blackberry=!0,b.version=l[2]),j&&(b.kindle=!0,b.version=j[1]),k&&(c.silk=!0,c.version=k[1]),!k&&b.android&&a.match(/Kindle Fire/)&&(c.silk=!0)}b.call(a,navigator.userAgent),a.__detect=b}(Zepto),function(a,b){function c(a){return a.toLowerCase()}function d(a){return f?f+a:c(a)}var e="",f,g,h,i={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},j=window.document,k=j.createElement("div"),l=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,m={};a.each(i,function(a,d){if(k.style[a+"TransitionProperty"]!==b)return e="-"+c(a)+"-",f=d,!1}),m[e+"transition-property"]=m[e+"transition-duration"]=m[e+"transition-timing-function"]=m[e+"animation-name"]=m[e+"animation-duration"]="",a.fx={off:f===b&&k.style.transitionProperty===b,cssPrefix:e,transitionEnd:d("TransitionEnd"),animationEnd:d("AnimationEnd")},a.fn.animate=function(b,c,d,e){return a.isObject(c)&&(d=c.easing,e=c.complete,c=c.duration),c&&(c/=1e3),this.anim(b,c,d,e)},a.fn.anim=function(c,d,f,g){var h,i={},j,k=this,n,o=a.fx.transitionEnd;d===b&&(d=.4),a.fx.off&&(d=0);if(typeof c=="string")i[e+"animation-name"]=c,i[e+"animation-duration"]=d+"s",o=a.fx.animationEnd;else{for(j in c)l.test(j)?(h||(h=[]),h.push(j+"("+c[j]+")")):i[j]=c[j];h&&(i[e+"transform"]=h.join(" ")),!a.fx.off&&typeof c=="object"&&(i[e+"transition-property"]=Object.keys(c).join(", "),i[e+"transition-duration"]=d+"s",i[e+"transition-timing-function"]=f||"linear")}return n=function(b){if(typeof b!="undefined"){if(b.target!==b.currentTarget)return;a(b.target).unbind(o,arguments.callee)}a(this).css(m),g&&g.call(this)},d>0&&this.bind(o,n),setTimeout(function(){k.css(i),d<=0&&setTimeout(function(){k.each(function(){n.call(this)})},0)},0),this},k=null}(Zepto),function($){function triggerAndReturn(a,b,c){var d=$.Event(b);return $(a).trigger(d,c),!d.defaultPrevented}function triggerGlobal(a,b,c,d){if(a.global)return triggerAndReturn(b||document,c,d)}function ajaxStart(a){a.global&&$.active++===0&&triggerGlobal(a,null,"ajaxStart")}function ajaxStop(a){a.global&&!--$.active&&triggerGlobal(a,null,"ajaxStop")}function ajaxBeforeSend(a,b){var c=b.context;if(b.beforeSend.call(c,a,b)===!1||triggerGlobal(b,c,"ajaxBeforeSend",[a,b])===!1)return!1;triggerGlobal(b,c,"ajaxSend",[a,b])}function ajaxSuccess(a,b,c){var d=c.context,e="success";c.success.call(d,a,e,b),triggerGlobal(c,d,"ajaxSuccess",[b,c,a]),ajaxComplete(e,b,c)}function ajaxError(a,b,c,d){var e=d.context;d.error.call(e,c,b,a),triggerGlobal(d,e,"ajaxError",[c,d,a]),ajaxComplete(b,c,d)}function ajaxComplete(a,b,c){var d=c.context;c.complete.call(d,b,a),triggerGlobal(c,d,"ajaxComplete",[b,c]),ajaxStop(c)}function empty(){}function mimeToDataType(a){return a&&(a==htmlType?"html":a==jsonType?"json":scriptTypeRE.test(a)?"script":xmlTypeRE.test(a)&&"xml")||"text"}function appendQuery(a,b){return(a+"&"+b).replace(/[&?]{1,2}/,"?")}function serializeData(a){isObject(a.data)&&(a.data=$.param(a.data)),a.data&&(!a.type||a.type.toUpperCase()=="GET")&&(a.url=appendQuery(a.url,a.data))}function serialize(a,b,c,d){var e=$.isArray(b);$.each(b,function(b,f){d&&(b=c?d:d+"["+(e?"":b)+"]"),!d&&e?a.add(f.name,f.value):(c?$.isArray(f):isObject(f))?serialize(a,f,c,b):a.add(b,f)})}var jsonpID=0,isObject=$.isObject,document=window.document,key,name,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/;$.active=0,$.ajaxJSONP=function(a){var b="jsonp"+ ++jsonpID,c=document.createElement("script"),d=function(){$(c).remove(),b in window&&(window[b]=empty),ajaxComplete("abort",e,a)},e={abort:d},f;return a.error&&(c.onerror=function(){e.abort(),a.error()}),window[b]=function(d){clearTimeout(f),$(c).remove(),delete window[b],ajaxSuccess(d,e,a)},serializeData(a),c.src=a.url.replace(/=\?/,"="+b),$("head").append(c),a.timeout>0&&(f=setTimeout(function(){e.abort(),ajaxComplete("timeout",e,a)},a.timeout)),e},$.ajaxSettings={type:"GET",beforeSend:empty,success:empty,error:empty,complete:empty,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},crossDomain:!1,timeout:0},$.ajax=function(options){var settings=$.extend({},options||{});for(key in $.ajaxSettings)settings[key]===undefined&&(settings[key]=$.ajaxSettings[key]);ajaxStart(settings),settings.crossDomain||(settings.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(settings.url)&&RegExp.$2!=window.location.host);var dataType=settings.dataType,hasPlaceholder=/=\?/.test(settings.url);if(dataType=="jsonp"||hasPlaceholder)return hasPlaceholder||(settings.url=appendQuery(settings.url,"callback=?")),$.ajaxJSONP(settings);settings.url||(settings.url=window.location.toString()),serializeData(settings);var mime=settings.accepts[dataType],baseHeaders={},protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol,xhr=$.ajaxSettings.xhr(),abortTimeout;settings.crossDomain||(baseHeaders["X-Requested-With"]="XMLHttpRequest"),mime&&(baseHeaders.Accept=mime,mime.indexOf(",")>-1&&(mime=mime.split(",",2)[0]),xhr.overrideMimeType&&xhr.overrideMimeType(mime));if(settings.contentType||settings.data&&settings.type.toUpperCase()!="GET")baseHeaders["Content-Type"]=settings.contentType||"application/x-www-form-urlencoded";settings.headers=$.extend(baseHeaders,settings.headers||{}),xhr.onreadystatechange=function(){if(xhr.readyState==4){clearTimeout(abortTimeout);var result,error=!1;if(xhr.status>=200&&xhr.status<300||xhr.status==304||xhr.status==0&&protocol=="file:"){dataType=dataType||mimeToDataType(xhr.getResponseHeader("content-type")),result=xhr.responseText;try{dataType=="script"?(1,eval)(result):dataType=="xml"?result=xhr.responseXML:dataType=="json"&&(result=blankRE.test(result)?null:JSON.parse(result))}catch(e){error=e}error?ajaxError(error,"parsererror",xhr,settings):ajaxSuccess(result,xhr,settings)}else ajaxError(null,"error",xhr,settings)}};var async="async"in settings?settings.async:!0;xhr.open(settings.type,settings.url,async);for(name in settings.headers)xhr.setRequestHeader(name,settings.headers[name]);return ajaxBeforeSend(xhr,settings)===!1?(xhr.abort(),!1):(settings.timeout>0&&(abortTimeout=setTimeout(function(){xhr.onreadystatechange=empty,xhr.abort(),ajaxError(null,"timeout",xhr,settings)},settings.timeout)),xhr.send(settings.data?settings.data:null),xhr)},$.get=function(a,b){return $.ajax({url:a,success:b})},$.post=function(a,b,c,d){return $.isFunction(b)&&(d=d||c,c=b,b=null),$.ajax({type:"POST",url:a,data:b,success:c,dataType:d})},$.getJSON=function(a,b){return $.ajax({url:a,success:b,dataType:"json"})},$.fn.load=function(a,b){if(!this.length)return this;var c=this,d=a.split(/\s/),e;return d.length>1&&(a=d[0],e=d[1]),$.get(a,function(a){c.html(e?$(document.createElement("div")).html(a.replace(rscript,"")).find(e).html():a),b&&b.call(c)}),this};var escape=encodeURIComponent;$.param=function(a,b){var c=[];return c.add=function(a,b){this.push(escape(a)+"="+escape(b))},serialize(c,a,b),c.join("&").replace("%20","+")}}(Zepto),function(a){a.fn.serializeArray=function(){var b=[],c;return a(Array.prototype.slice.call(this.get(0).elements)).each(function(){c=a(this);var d=c.attr("type");this.nodeName.toLowerCase()!="fieldset"&&!this.disabled&&d!="submit"&&d!="reset"&&d!="button"&&(d!="radio"&&d!="checkbox"||this.checked)&&b.push({name:c.attr("name"),value:c.val()})}),b},a.fn.serialize=function(){var a=[];return this.serializeArray().forEach(function(b){a.push(encodeURIComponent(b.name)+"="+encodeURIComponent(b.value))}),a.join("&")},a.fn.submit=function(b){if(b)this.bind("submit",b);else if(this.length){var c=a.Event("submit");this.eq(0).trigger(c),c.defaultPrevented||this.get(0).submit()}return this}}(Zepto),function(a){function b(a){return"tagName"in a?a:a.parentNode}function c(a,b,c,d){var e=Math.abs(a-b),f=Math.abs(c-d);return e>=f?a-b>0?"Left":"Right":c-d>0?"Up":"Down"}function d(){i=null,f.last&&(f.el.trigger("longTap"),f={})}function e(){i&&clearTimeout(i),i=null}var f={},g,h=750,i;a(document).ready(function(){var j,k;a(document.body).bind("touchstart",function(c){j=Date.now(),k=j-(f.last||j),f.el=a(b(c.touches[0].target)),g&&clearTimeout(g),f.x1=c.touches[0].pageX,f.y1=c.touches[0].pageY,k>0&&k<=250&&(f.isDoubleTap=!0),f.last=j,i=setTimeout(d,h)}).bind("touchmove",function(a){e(),f.x2=a.touches[0].pageX,f.y2=a.touches[0].pageY}).bind("touchend",function(a){e(),f.isDoubleTap?(f.el.trigger("doubleTap"),f={}):f.x2&&Math.abs(f.x1-f.x2)>30||f.y2&&Math.abs(f.y1-f.y2)>30?(f.el.trigger("swipe")&&f.el.trigger("swipe"+c(f.x1,f.x2,f.y1,f.y2)),f={}):"last"in f&&(f.el.trigger("tap"),g=setTimeout(function(){g=null,f.el.trigger("singleTap"),f={}},250))}).bind("touchcancel",function(){g&&clearTimeout(g),i&&clearTimeout(i),i=g=null,f={}})}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(b){a.fn[b]=function(a){return this.bind(b,a)}})}(Zepto),define("libs/zepto.min",function(){}),define("zepto",["libs/zepto.min"],function(){return $});var asEvented=function(a){function b(b){var c=this.events,d,e;if(!c||b in c==0)return;e=a.call(arguments,1);for(d=c[b].length-1;d>=0;d--)c[b][d].apply(this,e)}function c(a,b){var c=this.events,d,e,f;if(!c)return;f=a.split(/\s+/);for(e=0,num=f.length;e<num;e++)(d=f[e])in c!=0&&c[d].splice(c[d].indexOf(b),1)}function d(b,c){this.bind(b,function d(){c.apply(this,a.call(arguments)),this.unbind(b,d)})}function e(a,b){var c=this.events=this.events||{},d=a.split(/\s+/),e=0,f=d.length,g;for(;e<f;e++)c[g=d[e]]=c[g]||[],c[g].push(b)}return function(){return this.bind=e,this.unbind=c,this.trigger=b,this.one=d,this}}([].slice);"undefined"!=typeof module&&module.exports&&(module.exports=asEvented),define("libs/asevented.min",function(){}),function(){var a=0,b=["ms","moz","webkit","o"];for(var c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),define("rAF",function(){}),function(){define("scroll",["zepto","libs/asevented.min","rAF"],function(a){var b;return b=function(){function a(){asEvented.call(a.prototype),this.lastScrollTop=0}return a.name="Scroll",a.prototype.update=function(){var a,b;b=window.pageYOffset,b!==this.lastScrollTop?a=b>=this.lastScrollTop?-1:1:a=0,this.lastScrollTop=b;if(a!==0)return this.trigger("scroll",b,a)},a}()})}.call(this),function(){define("preview",["zepto"],function(a){var b;return b=function(){function b(){a(".handle").on("click",function(){var b;return b=a(this).parents(".wrap"),b.find(".coffeescript").parent().toggle(),b.find(".javascript").parent().toggle()})}return b.name="Preview",b}()})}.call(this),function(){define("lang-switch",["zepto"],function(a){var b;return b=function(){function d(){var d,e=this;if(a(".body-text").find(".ja, .en").length>0)this.bodyText=a(".body-text"),a("aside.meta").append(b),d="ja",location.hash!==""&&location.hash==="#en"&&(d="en",this.setLang(d)),this.bodyText.addClass(""+d+"-enabled"),this.bodyText.find("div.ja").each(function(b,f){var g,h;return g=e.bodyText.find("div.en[data-group='"+f.getAttribute("data-group")+"']"),h=a(c),h.insertBefore(f),h.find(".inner").append(f).append(g.show()),e.resetHeight(d)}),a("aside.meta").on("click","a",function(a){var b;return b=a.target.getAttribute("href").replace("#",""),e.setLang(b),e.resetHeight(b)});else return}var b,c;return d.name="LangSwitch",b='      <div id="lang">\n        <span><a href="#ja" class="active ignore">JP</a> / <a href="#en" class="ignore">EN</a></span>\n</div>',c='<seciton class="lang-group">\n  <div class="inner">\n    \n  </div>\n</section>',d.prototype.resetHeight=function(b){return this.bodyText.find(".lang-group").each(function(c,d){var e,f;return f=a(d),e=f.find("."+b),e.length>0?f.height(e.height()):f.height(1)})},d.prototype.setLang=function(b){return a("#lang").find(".active").removeClass("active"),console.log(b),a("#lang a[href*="+b+"]").addClass("active"),this.bodyText.removeClass("ja-enabled").removeClass("en-enabled"),this.bodyText.addClass(""+b+"-enabled")},d}()})}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};define("header",[],function(){var b;return b=function(){function b(){this.onScroll=a(this.onScroll,this),this.initialAnim=!1,this.isPersist=!1,this.lastScrollTop=0,this.body=$("body"),this.topHeader=$("#top-header"),this.logoOuter=$("#logo-outer"),$(".article-container").length>0?this.containerTop=$(".article-container").offset().top:this.containerTop=0}return b.name="Header",b.prototype.onScroll=function(a,b){var c;a>this.containerTop?this.topHeader.addClass("passed-article"):this.topHeader.removeClass("passed-article");switch(b){case-1:if(a<50)return c=(100-a*2)/100,this.logoOuter.css("opacity",c);this.initialAnim||(this.topHeader.css("opacity",1),this.initialAnim=!0,Modernizr.touch&&(this.topHeader.addClass("passed-logo"),this.isPersist=!0));if(!this.topHeader.hasClass("passed-logo"))return this.topHeader.addClass("passed-logo");break;case 1:if(a<250){c=(100-a)/100,this.logoOuter.css("opacity",c);if(!$("#content").hasClass("in"))return this.topHeader.removeClass("passed-logo")}}},b}()})}.call(this),window.Socialite=function(a,b,c){var d={},e={},f={},g={},h={},i={},j={},k=a.setTimeout,l=encodeURIComponent,m=typeof b.getElementsByClassName=="function";return e.appendScript=function(a,d,f){if(g[a]||h[a]===c)return!1;var j=g[a]=b.createElement("script");return j.async=!0,j.src=h[a],j.onload=j.onreadystatechange=function(){if(e.hasLoaded(a))return;var b=j.readyState;if(!b||b==="loaded"||b==="complete")i[a]=!0,j.onload=j.onreadystatechange=null,f!==c?typeof f=="function"&&f():e.activateCache(a)},d&&(j.id=d),b.body.appendChild(j),!0},e.hasLoaded=function(a){return typeof a!="string"?!1:i[a]===!0},e.removeScript=function(a){return e.hasLoaded(a)?(b.body.removeChild(g[a]),g[a]=i[a]=!1,!0):!1},e.createIframe=function(a,d){var f=b.createElement("iframe");return f.style.cssText="overflow: hidden; border: none;",f.setAttribute("allowtransparency","true"),f.setAttribute("frameborder","0"),f.setAttribute("scrolling","no"),f.setAttribute("src",a),d!==c&&(m?f.onload=f.onreadystatechange=function(){f.onload=f.onreadystatechange=null,e.activateInstance(d)}:k(function(){e.activateInstance(d)},10)),f},e.activateInstance=function(a){if(a.loaded)return;a.loaded=!0,a.container.className+=" socialite-loaded"},e.activateCache=function(a){if(j[a]!==c)for(var b=0;b<j[a].length;b++)e.activateInstance(j[a][b])},e.copyDataAttributes=function(a,b){var c,d=a.attributes;for(c=0;c<d.length;c++){var e=d[c].name,f=d[c].value;e.indexOf("data-")===0&&f.length&&b.setAttribute(e,f)}},e.getDataAttributes=function(a,b,c){var d,e="",f={},g=a.attributes;for(d=0;d<g.length;d++){var h=g[d].name,i=g[d].value;h.indexOf("data-")===0&&i.length&&(b===!0&&(h=h.substring(5)),c?f[h]=i:e+=l(h)+"="+l(i)+"&")}return c?f:e},e.getElements=function(a,b){if(m)return a.getElementsByClassName(b);var c=0,d=[],e=a.getElementsByTagName("*"),f=e.length;for(c=0;c<f;c++){var g=" "+e[c].className+" ";g.indexOf(" "+b+" ")!==-1&&d.push(e[c])}return d},d.activate=function(a,b){d.load(null,a,b)},d.load=function(a,g,h){a=typeof a=="object"&&a!==null&&a.nodeType===1?a:b;if(g===c||g===null){var i=e.getElements(a,"socialite"),k=i,l=i.length;if(!l)return;if(typeof k.item!==c){k=[];for(var m=0;m<l;m++)k[m]=i[m]}d.load(a,k,h);return}if(typeof g=="object"&&g.length){for(var n=0;n<g.length;n++)d.load(a,g[n],h);return}if(typeof g!="object"||g.nodeType!==1)return;if(typeof h!="string"||f[h]===c){h=null;var o=g.className.split(" ");for(var p=0;p<o.length;p++)if(f[o[p]]!==c){h=o[p];break}if(typeof h!="string")return}typeof f[h]=="string"&&(h=f[h]);if(typeof f[h]!="function")return;var q=b.createElement("div"),r=b.createElement("div");q.className="socialised "+h,r.className="socialite-button";var s=g.parentNode;s===null?(s=a===b?b.body:a,s.appendChild(q)):s.insertBefore(q,g),q.appendChild(r),r.appendChild(g),g.className=g.className.replace(/\bsocialite\b/,""),j[h]===c&&(j[h]=[]);var t={elem:g,button:r,container:q,parent:s,loaded:!1};j[h].push(t),f[h](t,e)},d.extend=function(a,b,d){if(typeof a!="string"||typeof b!="function")return!1;a=a.indexOf(" ")>0?a.split(" "):[a];if(f[a[0]]!==c)return!1;for(var e=1;e<a.length;e++)f[a[e]]=a[0];return d!==c&&typeof d=="string"&&(h[a[0]]=d),f[a[0]]=b,!0},d}(window,window.document),function(a,b,c,d){c.extend("twitter tweet",function(c,e){var f=c.elem,g=" "+f.className+" ";if(g.indexOf(" tweet ")!==-1)f.className="twitter-tweet";else{var h=b.createElement("a"),i=f.getAttribute("data-type"),j=["share","follow","hashtag","mention"],k=0;for(var l=1;l<4;l++)if(i===j[l]||g.indexOf(" "+j[l]+" ")!==-1)k=l;h.className="twitter-"+j[k]+"-button",f.getAttribute("href")!==d&&h.setAttribute("href",f.href),e.copyDataAttributes(f,h),c.button.replaceChild(h,f)}var m=a.twttr;typeof m=="object"&&typeof m.widgets=="object"&&typeof m.widgets.load=="function"?(m.widgets.load(),e.activateInstance(c)):(e.hasLoaded("twitter")&&e.removeScript("twitter"),e.appendScript("twitter","twitter-wjs",!1)&&(a.twttr={_e:[function(){e.activateCache("twitter")}]}))},"//platform.twitter.com/widgets.js"),c.extend("googleplus",function(c,d){var e=c.elem,f=b.createElement("div");f.className="g-plusone",d.copyDataAttributes(e,f),c.button.replaceChild(f,e),typeof a.gapi=="object"&&typeof a.gapi.plusone=="object"&&typeof gapi.plusone.render=="function"?(a.gapi.plusone.render(c.button,d.getDataAttributes(f,!0,!0)),d.activateInstance(c)):d.hasLoaded("googleplus")||d.appendScript("googleplus")},"//apis.google.com/js/plusone.js"),c.extend("facebook",function(a,c){var d=a.elem,e=b.createElement("div"),f=b.getElementById("fb-root");if(!f&&!c.hasLoaded("facebook"))f=b.createElement("div"),f.id="fb-root",b.body.appendChild(f),e.className="fb-like",c.copyDataAttributes(d,e),a.button.replaceChild(e,d),c.appendScript("facebook","facebook-jssdk");else{var g="//www.facebook.com/plugins/like.php?";g+=c.getDataAttributes(d,!0);var h=c.createIframe(g,a);a.button.replaceChild(h,d)}},"//connect.facebook.net/en_US/all.js#xfbml=1"),c.extend("linkedin",function(c,d){var e=c.elem,f=e.attributes,g=b.createElement("script");g.type="IN/Share",d.copyDataAttributes(e,g),c.button.replaceChild(g,e),typeof a.IN=="object"&&typeof a.IN.init=="function"?(a.IN.init(),d.activateInstance(c)):d.hasLoaded("linkedin")||d.appendScript("linkedin")},"//platform.linkedin.com/in.js"),c.extend("pinit",function(a,c){var e=a.elem,f=b.createElement("a");f.className="pin-it-button",e.getAttribute("href")!==d&&f.setAttribute("href",e.href);var g=e.getAttribute("data-count-layout")||"horizontal";f.setAttribute("count-layout",g),a.button.replaceChild(f,e),c.hasLoaded("pinit")&&c.removeScript("pinit"),c.appendScript("pinit")},"//assets.pinterest.com/js/pinit.js"),c.extend("spotify-play",function(a,b){var c=a.elem,d="https://embed.spotify.com/?",e=parseInt(c.getAttribute("data-width"),10),f=parseInt(c.getAttribute("data-height"),10);c.removeAttribute("data-width"),c.removeAttribute("data-height"),d+="uri="+c.getAttribute("href")+"&",d+=b.getDataAttributes(c,!0);var g=b.createIframe(d,a);g.style.width=(isNaN(e)?300:e)+"px",g.style.height=(isNaN(f)?380:f)+"px",a.button.replaceChild(g,c),b.activateInstance(a)},"")}(window,window.document,window.Socialite),define("socialite",function(){}),function(){define("social",["zepto","socialite"],function(a){var b;return b=function(){function d(){Socialite.load(),this.fetchCount()}var b,c;return d.name="Social",b="http://counter.mnmly.com/?url=",c='<div class="tooltip">\n  <span>$count</span>\n</div>',d.prototype.fetchCount=function(){var d;return/:8080/.test(location.href)?d="http://mnmly.com":d=location.href,a.getJSON(b+encodeURIComponent(d),function(b){var d,e,f,g;if(b.status!==200)return;return d=b.facebook,g=b.twitter,e=b.googlePlus,f={t:g,f:d,g:e},a(".social li").each(function(b,d){return a(d).prepend(c.replace("$count",f[d.className]))})})},d}()})}.call(this),window.Swipe=function(a,b){if(!a)return null;var c=this;this.options=b||{},this.index=this.options.startSlide||0,this.speed=this.options.speed||300,this.callback=this.options.callback||function(){},this.delay=this.options.auto||0,this.container=a,this.element=this.container.children[0],this.container.style.overflow="hidden",this.element.style.listStyle="none",this.setup(),this.begin(),this.element.addEventListener&&(this.element.addEventListener("touchstart",this,!1),this.element.addEventListener("touchmove",this,!1),this.element.addEventListener("touchend",this,!1),this.element.addEventListener("webkitTransitionEnd",this,!1),this.element.addEventListener("msTransitionEnd",this,!1),this.element.addEventListener("oTransitionEnd",this,!1),this.element.addEventListener("transitionend",this,!1),window.addEventListener("resize",this,!1))},Swipe.prototype={setup:function(){this.slides=this.element.children,this.length=this.slides.length;if(this.length<2)return null;this.width=this.container.getBoundingClientRect().width;if(!this.width)return null;this.container.style.visibility="hidden",this.element.style.width=this.slides.length*this.width+"px";var a=this.slides.length;while(a--){var b=this.slides[a];b.style.width=this.width+"px",b.style.display="table-cell",b.style.verticalAlign="top"}this.slide(this.index,0),this.container.style.visibility="visible"},slide:function(a,b){var c=this.element.style;c.webkitTransitionDuration=c.MozTransitionDuration=c.msTransitionDuration=c.OTransitionDuration=c.transitionDuration=b+"ms",c.webkitTransform="translate3d("+ -(a*this.width)+"px,0,0)",c.msTransform=c.MozTransform=c.OTransform="translateX("+ -(a*this.width)+"px)",this.index=a},getPos:function(){return this.index},prev:function(a){this.delay=a||0,clearTimeout(this.interval),this.index&&this.slide(this.index-1,this.speed)},next:function(a){this.delay=a||0,clearTimeout(this.interval),this.index<this.length-1?this.slide(this.index+1,this.speed):this.slide(0,this.speed)},begin:function(){var a=this;this.interval=this.delay?setTimeout(function(){a.next(a.delay)},this.delay):0},stop:function(){this.delay=0,clearTimeout(this.interval)},resume:function(){this.delay=this.options.auto||0,this.begin()},handleEvent:function(a){switch(a.type){case"touchstart":this.onTouchStart(a);break;case"touchmove":this.onTouchMove(a);break;case"touchend":this.onTouchEnd(a);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"transitionend":this.transitionEnd(a);break;case"resize":this.setup()}},transitionEnd:function(a){this.delay&&this.begin(),this.callback(a,this.index,this.slides[this.index])},onTouchStart:function(a){this.start={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY,time:Number(new Date)},this.isScrolling=undefined,this.deltaX=0,this.element.style.webkitTransitionDuration=0},onTouchMove:function(a){if(a.touches.length>1||a.scale&&a.scale!==1)return;this.deltaX=a.touches[0].pageX-this.start.pageX,typeof this.isScrolling=="undefined"&&(this.isScrolling=!!(this.isScrolling||Math.abs(this.deltaX)<Math.abs(a.touches[0].pageY-this.start.pageY))),this.isScrolling||(a.preventDefault(),clearTimeout(this.interval),this.deltaX=this.deltaX/(!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0?Math.abs(this.deltaX)/this.width+1:1),this.element.style.webkitTransform="translate3d("+(this.deltaX-this.index*this.width)+"px,0,0)")},onTouchEnd:function(a){var b=Number(new Date)-this.start.time<250&&Math.abs(this.deltaX)>20||Math.abs(this.deltaX)>this.width/2,c=!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0;this.isScrolling||this.slide(this.index+(b&&!c?this.deltaX<0?1:-1:0),this.speed)}},define("swipe",function(){}),function(a){a.fn.fitVids=function(b){var c={customSelector:null},d=document.createElement("div"),e=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0];return d.className="fit-vids-style",d.innerHTML="&shy;<style>               .fluid-width-video-wrapper {                 width: 100%;                              position: relative;                       padding: 0;                            }                                                                                   .fluid-width-video-wrapper iframe,        .fluid-width-video-wrapper object,        .fluid-width-video-wrapper embed {           position: absolute;                       top: 0;                                   left: 0;                                  width: 100%;                              height: 100%;                          }                                       </style>",e.parentNode.insertBefore(d,e),b&&a.extend(c,b),this.each(function(){var b=["iframe[src*='player.vimeo.com']","iframe[src*='www.youtube.com']","iframe[src*='www.kickstarter.com']","object","embed"];c.customSelector&&b.push(c.customSelector);var d=a(this).find(b.join(","));d.each(function(){var b=a(this);if(this.tagName.toLowerCase()=="embed"&&b.parent("object").length||b.parent(".fluid-width-video-wrapper").length)return;var c=this.tagName.toLowerCase()=="object"?b.attr("height"):b.height(),d=c/b.width();if(!b.attr("id")){var e="fitvid"+Math.floor(Math.random()*999999);b.attr("id",e)}b.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",d*100+"%"),b.removeAttr("height").removeAttr("width")})})}}(Zepto),define("libs/zepto.fitvids",function(){}),function(){define("mobile",["zepto","swipe","libs/zepto.fitvids"],function(a){var b;return b=function(){function e(){this.setupSwipe(),a("#logo-outer").length>0&&this.setupIntroAnimation(),a(".share").addClass("on"),a(".video-container").fitVids()}var b,c,d;return e.name="Mobile",d="kill-animation",c=Modernizr.prefixed("animation"),b=(c+"End").replace(/^ms/,"MS").replace(/^Webkit/,"webkit").replace(/^Moz.*/,"animationend"),e.prototype.setupIntroAnimation=function(){var c,d,e,f,g,h=this;return f="header.identity-header",g="#logo-outer",e="p.desc",d="#content",c=a(f).add(g).add(e).add(d),c.on(b,function(b){var i;b.stopPropagation(),i=a(b.target),console.log(b.target);if(i.is(g))return console.log("tagline appears"),h.triggerAnimation(c.filter(e),"fade-in .5s both");if(i.is(e))return console.log("stay this state for a bit"),h.triggerAnimation(c.filter(f),"slide-up .75s .75s both"),h.triggerAnimation(c.filter(d),"fade-scale-up 1.5s 1s both cubic-bezier(0.860, 0.000, 0.070, 1.000)")})},e.prototype.triggerAnimation=function(a,b){return a.removeClass(d).get(0).style[c]=b,console.log(a.get(0).tagName),console.log(a.attr("id")),console.log(a.attr("class"))},e.prototype.setupSwipe=function(b){var c,d;return b==null&&(b=0),c=document.getElementById("article-list"),a(c).find(".post").each(function(){var b,c,d,e;return b=a(this),e=b.find("aside.meta").height(),c=b.find(".article-container").height(),d=b.find("header").height(),b.data("postHeight",d+e+c)}),d=Swipe.prototype.slide,Swipe.prototype.slide=function(a,b){return this.options.willSlideCallback.bind(this)(this.slides[a]),d.bind(this)(a,b)},this.swipe=new Swipe(c,{startSlide:b,willSlideCallback:function(b){return this.element.style.height=a(b).data("postHeight")+"px"},callback:function(a,b,c){}})},e}()})}.call(this),window.Modernizr=function(a,b,c){function d(a){q.cssText=a}function e(a,b){return d(t.join(a+";")+(b||""))}function f(a,b){return typeof a===b}function g(a,b){return!!~(""+a).indexOf(b)}function h(a,b){for(var d in a)if(q[a[d]]!==c)return b=="pfx"?a[d]:!0;return!1}function i(a,b,d){for(var e in a){var g=b[a[e]];if(g!==c)return d===!1?a[e]:f(g,"function")?g.bind(d||b):g}return!1}function j(a,b,c){var d=a.charAt(0).toUpperCase()+a.substr(1),e=(a+" "+v.join(d+" ")+d).split(" ");return f(b,"string")||f(b,"undefined")?h(e,b):(e=(a+" "+w.join(d+" ")+d).split(" "),i(e,b,c))}var k="2.5.3",l={},m=!0,n=b.documentElement,o="modernizr",p=b.createElement(o),q=p.style,r,s={}.toString,t=" -webkit- -moz- -o- -ms- ".split(" "),u="Webkit Moz O ms",v=u.split(" "),w=u.toLowerCase().split(" "),x={svg:"http://www.w3.org/2000/svg"},y={},z={},A={},B=[],C=B.slice,D,E=function(a,c,d,e){var f,g,h,i=b.createElement("div"),j=b.body,k=j?j:b.createElement("body");if(parseInt(d,10))while(d--)h=b.createElement("div"),h.id=e?e[d]:o+(d+1),i.appendChild(h);return f=["&#173;","<style>",a,"</style>"].join(""),i.id=o,(j?i:k).innerHTML+=f,k.appendChild(i),j||(k.style.background="",n.appendChild(k)),g=c(i,a),j?i.parentNode.removeChild(i):k.parentNode.removeChild(k),!!g},F={}.hasOwnProperty,G;!f(F,"undefined")&&!f(F.call,"undefined")?G=function(a,b){return F.call(a,b)}:G=function(a,b){return b in a&&f(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if(typeof b!="function")throw new TypeError;var c=C.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(C.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(C.call(arguments)))};return d});var H=function(c,d){var e=c.join(""),f=d.length;E(e,function(c,d){var e=b.styleSheets[b.styleSheets.length-1],g=e?e.cssRules&&e.cssRules[0]?e.cssRules[0].cssText:e.cssText||"":"",h=c.childNodes,i={};while(f--)i[h[f].id]=h[f];l.touch="ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch||(i.touch&&i.touch.offsetTop)===9,l.csstransforms3d=(i.csstransforms3d&&i.csstransforms3d.offsetLeft)===9&&i.csstransforms3d.offsetHeight===3},f,d)}([,["@media (",t.join("touch-enabled),("),o,")","{#touch{top:9px;position:absolute}}"].join(""),["@media (",t.join("transform-3d),("),o,")","{#csstransforms3d{left:9px;position:absolute;height:3px;}}"].join("")],[,"touch","csstransforms3d"]);y.touch=function(){return l.touch},y.geolocation=function(){return!!navigator.geolocation},y.cssanimations=function(){return j("animationName")},y.csstransforms=function(){return!!j("transform")},y.csstransforms3d=function(){var a=!!j("perspective");return a&&"webkitPerspective"in n.style&&(a=l.csstransforms3d),a},y.svg=function(){return!!b.createElementNS&&!!b.createElementNS(x.svg,"svg").createSVGRect},y.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==x.svg};for(var I in y)G(y,I)&&(D=I.toLowerCase(),l[D]=y[I](),B.push((l[D]?"":"no-")+D));return d(""),p=r=null,function(a,b){function c(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function d(){var a=k.elements;return typeof a=="string"?a.split(" "):a}function e(a){var b={},c=a.createElement,e=a.createDocumentFragment,f=e();a.createElement=function(a){var d=(b[a]||(b[a]=c(a))).cloneNode();return k.shivMethods&&d.canHaveChildren&&!h.test(a)?f.appendChild(d):d},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+d().join().replace(/\w+/g,function(a){return b[a]=c(a),f.createElement(a),'c("'+a+'")'})+");return n}")(k,f)}function f(a){var b;return a.documentShived?a:(k.shivCSS&&!i&&(b=!!c(a,"article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio{display:none}canvas,video{display:inline-block;*display:inline;*zoom:1}[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}mark{background:#FF0;color:#000}")),j||(b=!e(a)),b&&(a.documentShived=b),a)}var g=a.html5||{},h=/^<|^(?:button|form|map|select|textarea)$/i,i,j;(function(){var a=b.createElement("a");a.innerHTML="<xyz></xyz>",i="hidden"in a,j=a.childNodes.length==1||function(){try{b.createElement("a")}catch(a){return!0}var c=b.createDocumentFragment();return typeof c.cloneNode=="undefined"||typeof c.createDocumentFragment=="undefined"||typeof c.createElement=="undefined"}()})();var k={elements:g.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:g.shivCSS!==!1,shivMethods:g.shivMethods!==!1,type:"default",shivDocument:f};a.html5=k,f(b)}(this,b),l._version=k,l._prefixes=t,l._domPrefixes=w,l._cssomPrefixes=v,l.testProp=function(a){return h([a])},l.testAllProps=j,l.testStyles=E,l.prefixed=function(a,b,c){return b?j(a,b,c):j(a,"pfx")},n.className=n.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(m?" js "+B.join(" "):""),l}(this,this.document),function(a,b,c){function d(a){return o.call(a)=="[object Function]"}function e(a){return typeof a=="string"}function f(){}function g(a){return!a||a=="loaded"||a=="complete"||a=="uninitialized"}function h(){var a=p.shift();q=1,a?a.t?m(function(){(a.t=="c"?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){a!="img"&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l={},o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};y[c]===1&&(r=1,y[c]=[],l=b.createElement(a)),a=="object"?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),a!="img"&&(r||y[c]===2?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i(b=="c"?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),p.length==1&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&o.call(a.opera)=="[object Opera]",l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return o.call(a)=="[object Array]"},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,i){var j=b(a),l=j.autoCallback;j.url.split(".").pop().split("?").shift(),j.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]||h),j.instead?j.instead(a,e,f,g,i):(y[j.url]?j.noexec=!0:y[j.url]=1,f.load(j.url,j.forceCSS||!j.forceJS&&"css"==j.url.split(".").pop().split("?").shift()?"c":c,j.noexec,j.attrs,j.timeout),(d(e)||d(l))&&f.load(function(){k(),e&&e(j.origUrl,i,g),l&&l(j.origUrl,i,g),y[j.url]=2})))}function i(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var j,l,m=this.yepnope.loader;if(e(a))g(a,0,m,0);else if(w(a))for(j=0;j<a.length;j++)l=a[j],e(l)?g(l,0,m,0):w(l)?B(l):Object(l)===l&&i(l,m);else Object(a)===a&&i(a,m)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,b.readyState==null&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},define("modernizr",function(){});var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-12966761-9"]),_gaq.push(["_trackPageview"]),function(){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}(),define("analytics",function(){}),function(){define("zepto.scroll",["zepto"],function(a){var b,c;return c=function(a,b,c){return a+(b-a)*c},b=function(a){return-Math.cos(a*Math.PI)/2+.5},a.scroll=function(d,e,f){var g,h,i,j;return d=d||(a.os.android?1:0),e=e||200,typeof f=="function"&&(b=f),j=window.pageYOffset,i=Date.now(),h=i+e,g=function(){var a,f;return a=+(new Date),f=a>h?1:(a-i)/e,window.scrollTo(0,c(j,d,b(f))),a>h||setTimeout(g,15)},g()}})}.call(this),function(){define("update-message",["zepto"],function(a){var b;return b=function(){function b(){var b;b=a("<div id='update-message'></div>"),b.css({"background-image":"url(/images/update.png)","background-repeat":"no-repeat",width:279,height:238,margin:"0 auto","margin-top":(a(window).height()-238)/2-30}),a("body").empty().append(b),a(window).resize(function(){return b.css("margin-top",(a(window).height()-238)/2-30)})}return b.name="UpdateMessage",b}()})}.call(this),function(){define("app",["zepto","scroll","preview","lang-switch","header","social","mobile","update-message","modernizr","analytics","zepto.scroll"],function(a,b,c,d,e,f,g,h){var i;return i=function(){function h(){this.body=a("body"),this.preview=new c,this.header=new e,this.scroll=new b,a(".index").length===0&&(this.langSwith=new d),a(".fade-pane").addClass("in"),Modernizr.touch&&(this.mobile=new g),this.initSocial(),this.setTargetBlank(),this.attachEvents(),this.kickOffMonitor(),(typeof MNMLY!=="undefined"&&MNMLY!==null?MNMLY.onScriptLoaded:void 0)!=null&&MNMLY.onScriptLoaded(),a("iframe[src*=youtube]").each(function(b,c){return a(c).wrapAll('<div class="video"></div>')})}return h.name="App",h.prototype.initSocial=function(){var b;if(a(".social").length===0)return;return b=new f},h.prototype.setTargetBlank=function(){return a(".post a:not(.ignore)").each(function(){var b,c;return b=a(this),c=b.attr("href"),c.charAt(0)==="/"||c.search(document.location.origin)>-1?b.addClass("mine"):b.attr("target","_blank")})},h.prototype.attachEvents=function(){var b=this;return this.scroll.bind("scroll",this.header.onScroll),a("#top-header").on("click tap",function(c){var d,e;return d=c.target,(e=d.tagName)==="svg"||e==="g"||e==="rect"||e==="a"?b.fadeOutScene("/"):(c.preventDefault(),a.scroll(0,400))}),a(".post").on("click tap","a:not(.ignore)",function(a){var c;return a.target.getAttribute("target")==="_blank"?!0:(a.preventDefault(),a.target.href!=null?c=a.target.href:c="/",b.fadeOutScene(c))})},h.prototype.fadeOutScene=function(b){return a("body").get(0).style.opacity=0,setTimeout(function(){return location.href=b},500)},h.prototype.kickOffMonitor=function(){var a,b=this;return(a=function(){return requestAnimationFrame(a),b.scroll.update()})()},h}()})}.call(this),function(){require.config({baseUrl:"/js",paths:{rAF:"libs/raf",jquery:"libs/jquery-1.7.2.min",zepto:"libs/zepto",highlight:"libs/highlight.pack",coffee:"libs/coffee-script",modernizr:"libs/modernizr.custom",analytics:"libs/analytics",socialite:"libs/socialite.min",swipe:"libs/swipe.min",order:"libs/rjs-plugins/order"},priority:["order"]}),setTimeout(function(){return window.scrollTo(0,1)},0),require(["app","update-message"],function(a,b){return!Modernizr.cssanimations||!Modernizr.csstransforms3d?new b:$(function(){return window.app=new a})})}.call(this),define("main",function(){})